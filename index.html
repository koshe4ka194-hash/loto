<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lotto for Genially</title>
    <style>
        :root { --p1-bg: #fff5f5; --p2-bg: #f5faff; --accent: #6c5ce7; }
        body { font-family: 'Segoe UI', sans-serif; background: #ffffff; margin: 0; padding: 10px; display: flex; justify-content: center; }
        
        .game-container { max-width: 600px; width: 100%; text-align: center; }
        
        /* –°–µ–∫—Ü–∏—è –º–µ—à–∫–∞ */
        .bag-card { background: #f8f9fa; border: 2px solid #ddd; border-radius: 20px; padding: 15px; margin-bottom: 15px; }
        #current-token { 
            width: 100px; height: 100px; background: white; border: 3px solid var(--accent); 
            margin: 10px auto; border-radius: 15px; display: flex; align-items: center; justify-content: center;
        }
        #current-token img { width: 80%; height: 80%; object-fit: contain; }
        .token-placeholder { font-size: 50px; color: #ccc; }

        /* –ò–≥—Ä–æ–≤—ã–µ –ø–æ–ª—è */
        .boards { display: flex; gap: 15px; justify-content: center; flex-wrap: wrap; }
        .player-board { flex: 1; border: 2px solid #333; border-radius: 15px; padding: 10px; min-width: 260px; max-width: 280px; }
        .player-board.p1 { background: var(--p1-bg); }
        .player-board.p2 { background: var(--p2-bg); }

        .grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; margin-top: 10px; }
        .cell { 
            aspect-ratio: 1/1; background: white; border: 1px solid #ccc; border-radius: 10px;
            display: flex; align-items: center; justify-content: center; cursor: pointer; position: relative;
        }
        .cell img { width: 75%; height: 75%; object-fit: contain; }
        .cell.checked::after { content: "‚úÖ"; position: absolute; font-size: 30px; background: rgba(255,255,255,0.7); width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; border-radius: 10px; }

        button { background: var(--accent); color: white; border: none; padding: 10px 20px; border-radius: 10px; font-size: 16px; font-weight: bold; cursor: pointer; }
        button:disabled { background: #ccc; cursor: not-allowed; }
        
        #status { margin: 10px 0; font-weight: bold; color: #444; min-height: 1.2em; }
        .reset-btn { background: #666; font-size: 12px; margin-top: 20px; }
    </style>
</head>
<body>

<div class="game-container">
    <div class="bag-card">
        <div style="color: #666; font-size: 14px;">–û—Å—Ç–∞–ª–æ—Å—å: <span id="bag-count">0</span></div>
        <div id="current-token">
            <span class="token-placeholder">?</span>
        </div>
        <button id="draw-btn" onclick="draw()">–¢–Ø–ù–£–¢–¨ –§–ò–®–ö–£</button>
    </div>

    <div id="status">–ó–∞–≥—Ä—É–∑–∫–∞...</div>

    <div class="boards">
        <div class="player-board p1">
            <strong>–ò–≥—Ä–æ–∫ 1</strong>
            <div id="grid1" class="grid"></div>
        </div>
        <div class="player-board p2">
            <strong>–ò–≥—Ä–æ–∫ 2</strong>
            <div id="grid2" class="grid"></div>
        </div>
    </div>

    <button class="reset-btn" onclick="initGame()">–ü–ï–†–ï–ú–ï–®–ê–¢–¨ –ò –ù–ê–ß–ê–¢–¨ –ó–ê–ù–û–í–û</button>
</div>

<script>
    // 1. –í—Å—Ç–∞–≤—å—Ç–µ —Å—é–¥–∞ —Å—Å—ã–ª–∫–∏ –Ω–∞ –≤–∞—à–∏ –∫–∞—Ä—Ç–∏–Ω–∫–∏ (–º–∏–Ω–∏–º—É–º 12 –¥–ª—è 2 –∏–≥—Ä–æ–∫–æ–≤ –ø–æ 6 —Ñ–∏—à–µ–∫)
    const IMAGES = [
        "https://cdn-icons-png.flaticon.com/128/2909/2909774.png",
        "https://cdn-icons-png.flaticon.com/128/2909/2909808.png",
        "https://cdn-icons-png.flaticon.com/128/2909/2909881.png",
        "https://cdn-icons-png.flaticon.com/128/2909/2909846.png",
        "https://cdn-icons-png.flaticon.com/128/2909/2909761.png",
        "https://cdn-icons-png.flaticon.com/128/2909/2909890.png",
        "https://cdn-icons-png.flaticon.com/128/1135/1135534.png",
        "https://cdn-icons-png.flaticon.com/128/1135/1135544.png",
        "https://cdn-icons-png.flaticon.com/128/1135/1135531.png",
        "https://cdn-icons-png.flaticon.com/128/1135/1135538.png",
        "https://cdn-icons-png.flaticon.com/128/1135/1135548.png",
        "https://cdn-icons-png.flaticon.com/128/1135/1135530.png"
    ];

    const CARDS_COUNT = 6; 
    let bag = [];
    let currentImg = null;

    function initGame() {
        // –ü–æ–ª–Ω—ã–π —Å–±—Ä–æ—Å —Å–æ—Å—Ç–æ—è–Ω–∏—è
        bag = [];
        currentImg = null;
        
        // –°–±—Ä–æ—Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
        document.getElementById('draw-btn').disabled = false;
        document.getElementById('current-token').innerHTML = '<span class="token-placeholder">?</span>';
        document.getElementById('status').innerText = "–ù–æ–≤–∞—è –∏–≥—Ä–∞! –¢—è–Ω–∏—Ç–µ —Ñ–∏—à–∫—É.";

        // –ü–µ—Ä–µ–º–µ—à–∏–≤–∞–µ–º –∏ —Ä–∞–∑–¥–∞–µ–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –Ω–∞–±–æ—Ä—ã
        let pool = [...IMAGES].sort(() => Math.random() - 0.5);
        let p1 = pool.slice(0, CARDS_COUNT);
        let p2 = pool.slice(CARDS_COUNT, CARDS_COUNT * 2);

        // –í –º–µ—à–∫–µ —Ç–æ–ª—å–∫–æ —Ç–µ, —á—Ç–æ –Ω–∞ –ø–æ–ª–µ (–≤—Å–µ–≥–æ 12)
        bag = [...p1, ...p2].sort(() => Math.random() - 0.5);

        renderBoard('grid1', p1);
        renderBoard('grid2', p2);
        updateCount();
    }

    function renderBoard(id, items) {
        const grid = document.getElementById(id);
        grid.innerHTML = '';
        items.forEach(src => {
            const cell = document.createElement('div');
            cell.className = 'cell';
            cell.innerHTML = `<img src="${src}">`;
            cell.onclick = () => {
                if (currentImg === src) {
                    cell.classList.add('checked');
                    checkWinner();
                }
            };
            grid.appendChild(cell);
        });
    }

    function draw() {
        if (bag.length === 0) return;
        currentImg = bag.pop();
        document.getElementById('current-token').innerHTML = `<img src="${currentImg}">`;
        document.getElementById('status').innerText = "–£ –∫–æ–≥–æ –µ—Å—Ç—å —ç—Ç–∞ –∫–∞—Ä—Ç–∏–Ω–∫–∞?";
        updateCount();
        if (bag.length === 0) {
            document.getElementById('draw-btn').disabled = true;
            document.getElementById('status').innerText = "–§–∏—à–∫–∏ –∫–æ–Ω—á–∏–ª–∏—Å—å!";
        }
    }

    function updateCount() {
        document.getElementById('bag-count').innerText = bag.length;
    }

    function checkWinner() {
        [1, 2].forEach(num => {
            const grid = document.getElementById(`grid${num}`);
            const total = grid.querySelectorAll('.cell').length;
            const checked = grid.querySelectorAll('.cell.checked').length;
            if (total === checked && total > 0) {
                document.getElementById('status').innerText = `üèÜ –ò–ì–†–û–ö ${num} –í–´–ò–ì–†–ê–õ!`;
                document.getElementById('draw-btn').disabled = true;
            }
        });
    }

    // –ó–∞–ø—É—Å–∫ –ø—Ä–∏ –ø–µ—Ä–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–µ
    initGame();
</script>

</body>
</html>
