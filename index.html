<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lotto for Genially</title>
    <style>
        :root { --p1-bg: #fff5f5; --p2-bg: #f5faff; --accent: #6c5ce7; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #ffffff; margin: 0; padding: 20px; display: flex; justify-content: center; }
        
        .game-container { max-width: 600px; width: 100%; text-align: center; }
        
        /* –°–µ–∫—Ü–∏—è –º–µ—à–∫–∞ */
        .bag-card { background: #f8f9fa; border: 2px solid #ddd; border-radius: 20px; padding: 20px; margin-bottom: 20px; box-shadow: 0 4px 6px rgba(0,0,0,0.05); }
        #current-token { 
            width: 100px; height: 100px; background: white; border: 3px solid var(--accent); 
            margin: 15px auto; border-radius: 15px; display: flex; align-items: center; justify-content: center;
        }
        #current-token img { width: 80%; height: 80%; object-fit: contain; }
        #token-emoji { font-size: 50px; }

        /* –ò–≥—Ä–æ–≤—ã–µ –ø–æ–ª—è */
        .boards { display: flex; gap: 20px; justify-content: center; }
        .player-board { flex: 1; border: 2px solid #333; border-radius: 15px; padding: 10px; min-width: 250px; }
        .player-board.p1 { background: var(--p1-bg); }
        .player-board.p2 { background: var(--p2-bg); }

        .grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-top: 15px; }
        .cell { 
            aspect-ratio: 1/1; background: white; border: 1px solid #ccc; border-radius: 10px;
            display: flex; align-items: center; justify-content: center; cursor: pointer; position: relative;
        }
        .cell img { width: 70%; height: 70%; object-fit: contain; }
        .cell.checked::after { content: "‚úÖ"; position: absolute; font-size: 30px; background: rgba(255,255,255,0.7); width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; border-radius: 10px; }

        button { background: var(--accent); color: white; border: none; padding: 12px 25px; border-radius: 10px; font-size: 16px; font-weight: bold; cursor: pointer; transition: 0.2s; }
        button:hover { opacity: 0.9; transform: scale(1.05); }
        button:disabled { background: #ccc; cursor: not-allowed; }
        
        #status { margin: 15px 0; font-weight: bold; color: #444; min-height: 20px; }
    </style>
</head>
<body>

<div class="game-container">
    <div class="bag-card">
        <div style="color: #666; font-size: 14px;">–û—Å—Ç–∞–ª–æ—Å—å –≤ –º–µ—à–∫–µ: <span id="bag-count">0</span></div>
        <div id="current-token">
            <span id="token-emoji">?</span>
        </div>
        <button id="draw-btn" onclick="draw()">–¢–Ø–ù–£–¢–¨ –§–ò–®–ö–£</button>
    </div>

    <div id="status">–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –∏–≥—Ä—É!</div>

    <div class="boards">
        <div class="player-board p1">
            <strong>–ò–≥—Ä–æ–∫ 1</strong>
            <div id="grid1" class="grid"></div>
        </div>
        <div class="player-board p2">
            <strong>–ò–≥—Ä–æ–∫ 2</strong>
            <div id="grid2" class="grid"></div>
        </div>
    </div>

    <div style="margin-top: 30px;">
        <button onclick="initGame()" style="background: #666; font-size: 12px;">–ü–ï–†–ï–ú–ï–®–ê–¢–¨ –ò –ù–ê–ß–ê–¢–¨ –ó–ê–ù–û–í–û</button>
    </div>
</div>

<script>
    // 1. –í—Å—Ç–∞–≤—å—Ç–µ —Å—é–¥–∞ —Å—Å—ã–ª–∫–∏ –Ω–∞ –≤–∞—à–∏ –∫–∞—Ä—Ç–∏–Ω–∫–∏
    const IMAGES = [
        "https://cdn-icons-png.flaticon.com/128/2909/2909774.png",
        "https://cdn-icons-png.flaticon.com/128/2909/2909808.png",
        "https://cdn-icons-png.flaticon.com/128/2909/2909881.png",
        "https://cdn-icons-png.flaticon.com/128/2909/2909846.png",
        "https://cdn-icons-png.flaticon.com/128/2909/2909761.png",
        "https://cdn-icons-png.flaticon.com/128/2909/2909890.png",
        "https://cdn-icons-png.flaticon.com/128/1135/1135534.png",
        "https://cdn-icons-png.flaticon.com/128/1135/1135544.png",
        "https://cdn-icons-png.flaticon.com/128/1135/1135531.png",
        "https://cdn-icons-png.flaticon.com/128/1135/1135538.png",
        "https://cdn-icons-png.flaticon.com/128/1135/1135548.png",
        "https://cdn-icons-png.flaticon.com/128/1135/1135530.png"
    ];

    const CARDS_COUNT = 6; // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∏—à–µ–∫ —É –æ–¥–Ω–æ–≥–æ –∏–≥—Ä–æ–∫–∞
    let bag = [];
    let currentImg = null;

    function initGame() {
        document.getElementById('draw-btn').disabled = false;
        document.getElementById('token-emoji').style.display = 'block';
        document.getElementById('token-emoji').innerText = '?';
        document.getElementById('current-token').innerHTML = '<span id="token-emoji">?</span>';
        document.getElementById('status').innerText = "–£–¥–∞—á–∏!";

        // –ü–µ—Ä–µ–º–µ—à–∏–≤–∞–µ–º –∏ —Ä–∞–∑–¥–∞–µ–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –Ω–∞–±–æ—Ä—ã
        let pool = [...IMAGES].sort(() => Math.random() - 0.5);
        let p1 = pool.slice(0, CARDS_COUNT);
        let p2 = pool.slice(CARDS_COUNT, CARDS_COUNT * 2);

        // –í –º–µ—à–∫–µ —Ç–æ–ª—å–∫–æ —Ç–µ, —á—Ç–æ –Ω–∞ –ø–æ–ª–µ
        bag = [...p1, ...p2].sort(() => Math.random() - 0.5);

        renderBoard('grid1', p1);
        renderBoard('grid2', p2);
        updateCount();
    }

    function renderBoard(id, items) {
        const grid = document.getElementById(id);
        grid.innerHTML = '';
        items.forEach(src => {
            const cell = document.createElement('div');
            cell.className = 'cell';
            cell.innerHTML = `<img src="${src}">`;
            cell.onclick = () => {
                if (currentImg === src) {
                    cell.classList.add('checked');
                    checkWinner();
                }
            };
            grid.appendChild(cell);
        });
    }

    function draw() {
        if (bag.length === 0) return;
        currentImg = bag.pop();
        document.getElementById('current-token').innerHTML = `<img src="${currentImg}">`;
        document.getElementById('status').innerText = "–ò—â–∏—Ç–µ –∫–∞—Ä—Ç–∏–Ω–∫—É —É —Å–µ–±—è!";
        updateCount();
        if (bag.length === 0) document.getElementById('draw-btn').disabled = true;
    }

    function updateCount() {
        document.getElementById('bag-count').innerText = bag.length;
    }

    function checkWinner() {
        [1, 2].forEach(num => {
            const total = document.querySelectorAll(`#grid${num} .cell`).length;
            const checked = document.querySelectorAll(`#grid${num} .cell.checked`).length;
            if (total === checked) {
                document.getElementById('status').innerText = `üéâ –ò–ì–†–û–ö ${num} –ü–û–ë–ï–î–ò–õ!`;
                document.getElementById('draw-btn').disabled = true;
            }
        });
    }

    initGame();
</script>

</body>
</html>
