<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        /* --- –°–¢–ò–õ–¨ ¬´–ñ–ò–í–û–ô¬ª –ò–ì–†–´ –ù–ê –°–¢–û–õ–ï --- */
        :root {
            --wood: #4e342e;
            --p1-bg: #fff9f9;
            --p2-bg: #f9fbff;
            --accent: #ff9800;
        }

        body {
            margin: 0; padding: 10px;
            background: radial-gradient(circle, #5d4037 0%, #2b1d1a 100%); /* –¢–µ–∫—Å—Ç—É—Ä–∞ —Å—Ç–æ–ª–∞ */
            font-family: 'Segoe UI', Tahoma, sans-serif;
            display: flex; justify-content: center;
            color: white; overflow-x: hidden;
        }

        .game-wrapper {
            max-width: 800px; width: 100%;
            display: flex; flex-direction: column; align-items: center; gap: 15px;
        }

        /* --- –û–ë–™–ï–ú–ù–´–ô –ú–ï–®–û–ö --- */
        .bag-bowl {
            background: #fdf5e6;
            border: 5px solid #8d6e63;
            border-radius: 30px;
            padding: 15px; width: 180px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.5), inset 0 5px 10px rgba(0,0,0,0.2);
            text-align: center; color: #3e2723;
        }

        #token-display {
            width: 80px; height: 80px;
            background: #d7ccc8; border-radius: 50%;
            margin: 10px auto;
            display: flex; align-items: center; justify-content: center;
            box-shadow: inset 0 4px 6px rgba(0,0,0,0.3);
            border: 2px solid #a1887f;
        }

        /* --- –ö–ù–û–ü–ö–ò –° –ü–û–î–°–í–ï–¢–ö–û–ô --- */
        .btn-3d {
            background: linear-gradient(180deg, #ffb74d 0%, #f57c00 100%);
            border: none; padding: 10px 20px;
            border-radius: 12px;
            color: white; font-weight: bold; font-size: 14px;
            cursor: pointer;
            box-shadow: 0 5px 0 #b71c1c, 0 8px 15px rgba(0,0,0,0.4);
            transition: 0.1s;
            text-transform: uppercase;
        }
        .btn-3d:active {
            transform: translateY(3px);
            box-shadow: 0 2px 0 #b71c1c, 0 4px 8px rgba(0,0,0,0.4);
        }
        .btn-3d:hover { filter: brightness(1.1); box-shadow: 0 5px 0 #b71c1c, 0 0 15px var(--accent); }

        /* --- –ö–ê–†–¢–û–ß–ö–ò –†–Ø–î–û–ú --- */
        .cards-row {
            display: flex; flex-direction: row; /* –ö–∞—Ä—Ç–æ—á–∫–∏ –≤ —Ä—è–¥ */
            gap: 15px; width: 100%; justify-content: center;
        }
        
        .player-card {
            flex: 1; background: white; border-radius: 15px;
            padding: 10px; min-width: 200px; max-width: 280px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.4);
            border-bottom: 5px solid rgba(0,0,0,0.2);
        }
        .p1 { background: var(--p1-bg); }
        .p2 { background: var(--p2-bg); }

        .player-name { color: #333; font-weight: bold; margin-bottom: 10px; font-size: 16px; border-bottom: 2px solid #eee; padding-bottom: 5px;}

        /* --- –ö–†–£–ì–õ–´–ï –§–ò–®–ö–ò --- */
        .grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; }
        
        .chip {
            aspect-ratio: 1; background: white; border-radius: 50%;
            border: 3px solid #eee;
            display: flex; align-items: center; justify-content: center;
            cursor: pointer; position: relative;
            box-shadow: 0 3px 5px rgba(0,0,0,0.2), inset 0 -2px 3px rgba(0,0,0,0.1);
        }
        .chip img { width: 70%; height: 70%; object-fit: contain; }
        
        .chip.found::after {
            content: "‚úî"; position: absolute;
            width: 100%; height: 100%;
            background: rgba(46, 204, 113, 0.85);
            border-radius: 50%; color: white;
            display: flex; align-items: center; justify-content: center;
            font-size: 30px; font-weight: bold;
            box-shadow: 0 0 10px #2ecc71;
        }

        #status { height: 20px; font-weight: bold; text-shadow: 0 2px 4px rgba(0,0,0,0.5); font-size: 16px; }
    </style>
</head>
<body>

<div class="game-wrapper">
    <div id="status">–ó–∞–≥—Ä—É–∑–∫–∞...</div>

    <div class="bag-bowl">
        <div style="font-size: 11px; font-weight: bold;">–û–°–¢–ê–õ–û–°–¨: <span id="count">0</span></div>
        <div id="token-display">?</div>
        <button id="draw-btn" class="btn-3d" onclick="draw()">–î–û–°–¢–ê–¢–¨</button>
    </div>

    <div class="cards-row">
        <div class="player-card p1">
            <div class="player-name">–ò–ì–†–û–ö 1</div>
            <div id="grid1" class="grid"></div>
        </div>
        <div class="player-card p2">
            <div class="player-name">–ò–ì–†–û–ö 2</div>
            <div id="grid2" class="grid"></div>
        </div>
    </div>

    <button class="btn-3d" style="background:#78909c; box-shadow: 0 5px 0 #455a64; font-size: 11px;" onclick="init()">–ü–ï–†–ï–ú–ï–®–ê–¢–¨ –í–°–Å</button>
</div>

<script>
    const IMGS = [
        "https://cdn-icons-png.flaticon.com/128/2909/2909774.png",
        "https://cdn-icons-png.flaticon.com/128/2909/2909808.png",
        "https://cdn-icons-png.flaticon.com/128/2909/2909881.png",
        "https://cdn-icons-png.flaticon.com/128/2909/2909846.png",
        "https://cdn-icons-png.flaticon.com/128/2909/2909761.png",
        "https://cdn-icons-png.flaticon.com/128/2909/2909890.png",
        "https://cdn-icons-png.flaticon.com/128/1135/1135534.png",
        "https://cdn-icons-png.flaticon.com/128/1135/1135544.png",
        "https://cdn-icons-png.flaticon.com/128/1135/1135531.png",
        "https://cdn-icons-png.flaticon.com/128/1135/1135538.png",
        "https://cdn-icons-png.flaticon.com/128/1135/1135548.png",
        "https://cdn-icons-png.flaticon.com/128/1135/1135530.png"
    ];

    let bag = [];
    let current = null;

    function init() {
        current = null;
        document.getElementById('draw-btn').disabled = false;
        document.getElementById('token-display').innerHTML = '<span style="font-size:30px;color:#a1887f">?</span>';
        document.getElementById('status').innerText = "–ò–≥—Ä–∞ –≥–æ—Ç–æ–≤–∞! –•–æ–¥–∏—Ç–µ.";

        let pool = [...IMGS].sort(() => Math.random() - 0.5);
        let p1Set = pool.slice(0, 6);
        let p2Set = pool.slice(6, 12);

        bag = [...p1Set, ...p2Set].sort(() => Math.random() - 0.5);

        render('grid1', p1Set);
        render('grid2', p2Set);
        updateUI();
    }

    function render(id, items) {
        const g = document.getElementById(id);
        g.innerHTML = '';
        items.forEach(src => {
            const div = document.createElement('div');
            div.className = 'chip';
            div.innerHTML = `<img src="${src}">`;
            div.onclick = () => {
                if (src === current) {
                    div.classList.add('found');
                    checkWin();
                }
            };
            g.appendChild(div);
        });
    }

    function draw() {
        if (bag.length === 0) return;
        current = bag.pop();
        document.getElementById('token-display').innerHTML = `<div class="chip" style="width:60px; height:60px; cursor:default; border:none;"><img src="${current}"></div>`;
        document.getElementById('status').innerText = "–ò—â–∏—Ç–µ —Ñ–∏—à–∫—É!";
        updateUI();
        if (bag.length === 0) document.getElementById('draw-btn').disabled = true;
    }

    function updateUI() {
        document.getElementById('count').innerText = bag.length;
    }

    function checkWin() {
        [1, 2].forEach(n => {
            const cells = document.querySelectorAll(`#grid${n} .chip`);
            const found = document.querySelectorAll(`#grid${n} .chip.found`);
            if (cells.length === found.length && cells.length > 0) {
                document.getElementById('status').innerText = `üèÜ –ò–ì–†–û–ö ${n} –ü–û–ë–ï–î–ò–õ!`;
                document.getElementById('draw-btn').disabled = true;
            }
        });
    }

    init();
</script>
</body>
</html>
