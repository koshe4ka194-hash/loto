<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        /* --- –°–¢–ò–õ–¨ ¬´–ñ–ò–í–û–ô¬ª –ò–ì–†–´ --- */
        :root {
            --wood: #5d4037;
            --p1-color: #ff9a9e;
            --p2-color: #a1c4fd;
            --chip-shadow: rgba(0,0,0,0.3);
        }

        body {
            margin: 0; padding: 15px;
            background: radial-gradient(circle, #3e2723 0%, #1b110e 100%);
            font-family: 'Segoe UI', Arial, sans-serif;
            display: flex; justify-content: center;
            color: white;
        }

        .game-board {
            max-width: 650px; width: 100%;
            display: flex; flex-direction: column; align-items: center; gap: 20px;
        }

        /* --- –ö–†–ê–°–ò–í–ê–Ø –ú–ò–°–ö–ê (–ú–ï–®–û–ö) --- */
        .bag-container {
            background: #fdf5e6;
            border: 6px solid #8d6e63;
            border-radius: 40px;
            padding: 20px;
            width: 200px;
            box-shadow: 0 15px 30px rgba(0,0,0,0.5), inset 0 5px 15px rgba(0,0,0,0.2);
            text-align: center; color: #5d4037;
        }

        #token-display {
            width: 90px; height: 90px;
            background: #d7ccc8;
            border-radius: 50%;
            margin: 15px auto;
            display: flex; align-items: center; justify-content: center;
            box-shadow: inset 0 4px 8px rgba(0,0,0,0.3);
            border: 2px solid #a1887f;
        }

        /* --- –û–ë–™–ï–ú–ù–´–ï –ö–ù–û–ü–ö–ò --- */
        .btn-3d {
            background: linear-gradient(180deg, #ffca28 0%, #ff8f00 100%);
            border: none; padding: 12px 24px;
            border-radius: 12px;
            color: #3e2723; font-weight: bold; font-size: 16px;
            cursor: pointer;
            box-shadow: 0 6px 0 #bf360c, 0 8px 15px rgba(0,0,0,0.4);
            transition: all 0.1s;
            text-transform: uppercase;
        }
        .btn-3d:active {
            transform: translateY(4px);
            box-shadow: 0 2px 0 #bf360c, 0 4px 8px rgba(0,0,0,0.4);
        }
        .btn-3d:disabled { background: #bdbdbd; box-shadow: 0 6px 0 #757575; cursor: not-allowed; }

        /* --- –ö–ê–†–¢–û–ß–ö–ò --- */
        .players-area { display: flex; gap: 20px; width: 100%; flex-wrap: wrap; justify-content: center; }
        
        .card {
            background: white; border-radius: 20px;
            padding: 15px; width: 280px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.4);
            border: 4px solid #fff;
        }
        .card.p1 { background: #fff5f5; border-color: var(--p1-color); }
        .card.p2 { background: #f5faff; border-color: var(--p2-color); }

        .title { color: #333; font-weight: bold; margin-bottom: 10px; font-size: 18px; }

        /* --- –§–ò–®–ö–ò --- */
        .grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; }
        
        .chip {
            aspect-ratio: 1; background: white; border-radius: 50%;
            border: 3px solid #eee;
            display: flex; align-items: center; justify-content: center;
            cursor: pointer; position: relative;
            box-shadow: 0 4px 6px var(--chip-shadow), inset 0 -3px 4px rgba(0,0,0,0.1);
        }
        .chip img { width: 75%; height: 75%; object-fit: contain; }
        
        /* –≠—Ñ—Ñ–µ–∫—Ç –∑–∞–∫—Ä—ã—Ç–æ–π —Ñ–∏—à–∫–∏ */
        .chip.found::after {
            content: "‚úî"; position: absolute;
            width: 100%; height: 100%;
            background: rgba(46, 204, 113, 0.8);
            border-radius: 50%; color: white;
            display: flex; align-items: center; justify-content: center;
            font-size: 40px; font-weight: bold;
            box-shadow: 0 0 15px #2ecc71;
        }

        #status-msg { height: 25px; font-weight: bold; font-size: 18px; text-shadow: 0 2px 4px rgba(0,0,0,0.5); }
        .info-text { font-size: 12px; color: #8d6e63; margin-bottom: 5px; }
    </style>
</head>
<body>

<div class="game-board">
    <div id="status-msg">–ó–∞–≥—Ä—É–∑–∫–∞ –∏–≥—Ä—ã...</div>

    <div class="bag-container">
        <div class="info-text">–û—Å—Ç–∞–ª–æ—Å—å —Ñ–∏—à–µ–∫: <span id="count">0</span></div>
        <div id="token-display">?</div>
        <button id="draw-btn" class="btn-3d" onclick="draw()">–î–û–°–¢–ê–¢–¨</button>
    </div>

    <div class="players-area">
        <div class="card p1">
            <div class="title">–ò–ì–†–û–ö 1</div>
            <div id="grid1" class="grid"></div>
        </div>
        <div class="card p2">
            <div class="title">–ò–ì–†–û–ö 2</div>
            <div id="grid2" class="grid"></div>
        </div>
    </div>

    <button class="btn-3d" style="background:#546e7a; box-shadow: 0 6px 0 #263238;" onclick="init()">–ü–ï–†–ï–ú–ï–®–ê–¢–¨</button>
</div>

<script>
    const IMGS = [
        "https://cdn-icons-png.flaticon.com/128/2909/2909774.png", // –ú–∞–Ω–≥–æ
        "https://cdn-icons-png.flaticon.com/128/2909/2909808.png", // –ú–æ—Ä–∫–æ–≤—å
        "https://cdn-icons-png.flaticon.com/128/2909/2909881.png", // –ë–∞–Ω–∞–Ω
        "https://cdn-icons-png.flaticon.com/128/2909/2909846.png", // –ü–µ—Ä–µ—Ü
        "https://cdn-icons-png.flaticon.com/128/2909/2909761.png", // –ö–ª—É–±–Ω–∏–∫–∞
        "https://cdn-icons-png.flaticon.com/128/2909/2909890.png", // –ë–∞–∫–ª–∞–∂–∞–Ω
        "https://cdn-icons-png.flaticon.com/128/1135/1135534.png", // –ê—Ä–±—É–∑
        "https://cdn-icons-png.flaticon.com/128/1135/1135544.png", // –í–∏—à–Ω—è
        "https://cdn-icons-png.flaticon.com/128/1135/1135531.png", // –ê–Ω–∞–Ω–∞—Å
        "https://cdn-icons-png.flaticon.com/128/1135/1135538.png", // –í–∏–Ω–æ–≥—Ä–∞–¥
        "https://cdn-icons-png.flaticon.com/128/1135/1135548.png", // –ì—Ä—É—à–∞
        "https://cdn-icons-png.flaticon.com/128/1135/1135530.png"  // –Ø–±–ª–æ–∫–æ
    ];

    let bag = [];
    let current = null;

    function init() {
        current = null;
        document.getElementById('draw-btn').disabled = false;
        document.getElementById('token-display').innerHTML = '<span style="font-size:40px;color:#a1887f">?</span>';
        document.getElementById('status-msg').innerText = "–ú–µ—à–æ–∫ –≥–æ—Ç–æ–≤!";

        let pool = [...IMGS].sort(() => Math.random() - 0.5);
        let p1Set = pool.slice(0, 6);
        let p2Set = pool.slice(6, 12);

        bag = [...p1Set, ...p2Set].sort(() => Math.random() - 0.5);

        render('grid1', p1Set);
        render('grid2', p2Set);
        updateUI();
    }

    function render(id, items) {
        const g = document.getElementById(id);
        g.innerHTML = '';
        items.forEach(src => {
            const div = document.createElement('div');
            div.className = 'chip';
            div.innerHTML = `<img src="${src}">`;
            div.onclick = () => {
                if (src === current) {
                    div.classList.add('found');
                    checkWin();
                }
            };
            g.appendChild(div);
        });
    }

    function draw() {
        if (bag.length === 0) return;
        current = bag.pop();
        document.getElementById('token-display').innerHTML = `<div class="chip" style="width:70px; height:70px; cursor:default; box-shadow:none;"><img src="${current}"></div>`;
        document.getElementById('status-msg').innerText = "–£ –∫–æ–≥–æ —Ç–∞–∫–∞—è —Ñ–∏—à–∫–∞?";
        updateUI();
        if (bag.length === 0) document.getElementById('draw-btn').disabled = true;
    }

    function updateUI() {
        document.getElementById('count').innerText = bag.length;
    }

    function checkWin() {
        [1, 2].forEach(n => {
            const cells = document.querySelectorAll(`#grid${n} .chip`);
            const found = document.querySelectorAll(`#grid${n} .chip.found`);
            if (cells.length === found.length) {
                document.getElementById('status-msg').innerText = `üèÜ –ò–ì–†–û–ö ${n} –ü–û–ë–ï–î–ò–õ! üèÜ`;
                document.getElementById('draw-btn').disabled = true;
            }
        });
    }

    init();
</script>
</body>
</html>
